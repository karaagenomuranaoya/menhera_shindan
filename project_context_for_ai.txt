# Project Structure

```text
├── .DS_Store
├── .env.local
├── .vercel
│   ├── README.txt
│   └── project.json
├── .vscode
│   └── settings.json
├── all_code.py
├── app
│   ├── .DS_Store
│   ├── DiagnosisClient.tsx
│   ├── api
│   │   ├── .DS_Store
│   │   ├── diagnose
│   │   │   ├── .DS_Store
│   │   │   └── route.ts
│   │   └── og
│   │       └── route.tsx
│   ├── components
│   │   ├── OgImagePreview.tsx
│   │   └── TermsModal.tsx
│   ├── data
│   │   └── replies.ts
│   ├── globals.css
│   ├── layout.tsx
│   ├── page.tsx
│   ├── result
│   │   └── [id]
│   │       └── page.tsx
│   └── sitemap.ts
├── biome.json
├── directory_tree.txt
├── eslint.config.mjs
├── menhera_shindan_backup.zip
├── next-env.d.ts
├── next.config.ts
├── package.json
├── postcss.config.mjs
├── project_context_for_ai.txt
├── save_tree.py
├── tsconfig.json
├── zip_project.py
└── プロンプト1でコード.txt
```

---

## File: biome.json
```json
{
	"$schema": "https://biomejs.dev/schemas/2.3.13/schema.json",
	"vcs": {
		"enabled": true,
		"clientKind": "git",
		"useIgnoreFile": true
	},
	"files": {
		"ignoreUnknown": false
	},
	"formatter": {
		"enabled": true,
		"indentStyle": "tab"
	},
	"linter": {
		"enabled": true,
		"rules": {
			"recommended": true
		}
	},
	"javascript": {
		"formatter": {
			"quoteStyle": "double"
		}
	},
	"assist": {
		"enabled": true,
		"actions": {
			"source": {
				"organizeImports": "on"
			}
		}
	}
}

```

## File: eslint.config.mjs
```mjs
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    // Default ignores of eslint-config-next:
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
]);

export default eslintConfig;

```

## File: next-env.d.ts
```ts
/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/dev/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.

```

## File: next.config.ts
```ts
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
  reactCompiler: true,
};

export default nextConfig;

```

## File: package.json
```json
{
  "name": "menhera_shindan",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@google/generative-ai": "^0.24.1",
    "@supabase/supabase-js": "^2.48.1",
    "@upstash/ratelimit": "^2.0.7",
    "@upstash/redis": "^1.36.0",
    "@vercel/analytics": "^1.6.1",
    "clsx": "^2.1.1",
    "framer-motion": "^12.23.26",
    "lucide-react": "^0.562.0",
    "next": "16.1.1",
    "react": "19.2.3",
    "react-dom": "19.2.3",
    "tailwind-merge": "^3.4.0"
  },
  "devDependencies": {
    "@biomejs/biome": "2.3.13",
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "babel-plugin-react-compiler": "1.0.0",
    "eslint": "^9",
    "eslint-config-next": "16.1.1",
    "tailwindcss": "^4",
    "typescript": "^5"
  }
}

```

## File: postcss.config.mjs
```mjs
const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;

```

## File: tsconfig.json
```json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}

```

## File: .vercel/project.json
```json
{"projectId":"prj_GAdqQ0gnHd2AQeFx13QroLyiMWVj","orgId":"team_dggu3Iv8StrilmOe5phKkn9N","projectName":"menhera-shindan"}
```

## File: app/DiagnosisClient.tsx
```tsx
"use client";
import { motion } from "framer-motion";
import {
	Check,
	ChevronLeft,
	Link as LinkIcon,
	RefreshCw,
	Send,
	Shuffle,
	Sparkles,
	Trash2,
} from "lucide-react";
import { useEffect, useRef, useState } from "react";
import OgImagePreview from "./components/OgImagePreview";
import TermsModal from "./components/TermsModal";

type ChatResult = {
	id: string;
	user_input: string;
	ai_reply: string;
	image_url: string;
};

const STORAGE_KEY = "menhera_chat_draft";

// 修正用のヘルパー関数を作成（コンポーネント内でも外でもOK）
const formatReply = (text: string) => {
	// [[...]] の部分を削除して返す
	return text.replace(/\[\[.*?\]\]/g, "").trim();
};

// ▼▼▼ワードリスト ▼▼▼
const ALL_SUGGESTIONS = [
	"おはよう",
	"おやすみ",
	"仕事終わった！疲れた〜",
	"今からお風呂入るね",
	"今日は雨だね",
	"お腹すいた...何食べよう？",
	"美容院行ってくる",
	"コンビニ行ってくる",
	"ただいま！",
	"パソコンが壊れちゃった",
	"ごめん、昨日は寝落ちしてた",
	"ちょっと作業するからスマホ置くね",
	"バッテリー切れそう",
	"今、運転中だからまた後で",
	"週末は友達と旅行行ってくる",
	"会社の飲み会行ってくる！",
	"今日は帰り遅くなるかも",
	"久しぶりに同窓会があるんだ",
	"その日は予定があるから無理",
	"知らない番号から着信があった",
	"スマホのパスワード変えたよ",
	"会社の女の子にチョコもらった",
	"元カノから連絡きたんだけど",
	"最近、視線を感じる気がする...",
	"GPSアプリ、バッテリー食うから消したよ",
	"誰かと間違えてない？",
	"え、その話したっけ？",
	"ちょっと一人になりたい",
	"携帯、家に忘れてた",
	"なんでそんなに疑うの？",
	"ずっと一緒だよ",
	"世界で一番好きだよ",
	"僕のすべては君のものだよ",
	"結婚しよう",
	"合鍵、作っておいたよ",
	"大好きだよ",
	"君の好きなところ、100個言えるよ",
	"ちょっと距離を置きたい",
	"重い。疲れた",
	"連絡してこないで",
	"別れよう",
	"もう限界かもしれない",
	"友達に戻ろう",
	"そういうところ、直してほしい",
	"話がある",
	"他に好きな人ができた",
	"放っておいてくれ",
	"依存するのは良くないよ",
	"あ",
	"ぬるぽ",
	"たんぽぽ食べてる",
	"宇宙人と交信中",
	"壁の中から物音がする",
	"冷蔵庫のプリン食べた？",
	"ベランダに誰かいる...",
	"髪の毛、一本ちょうだい",
	"君の部屋の盗聴器、電池切れそうだよ",
	"見てるよ",
	"おーい",
];

// フィッシャー–イェーツのシャッフル（偏りなく混ぜる関数）
function shuffleArray<T>(array: T[]): T[] {
	const newArray = [...array];
	for (let i = newArray.length - 1; i > 0; i--) {
		const j = Math.floor(Math.random() * (i + 1));
		[newArray[i], newArray[j]] = [newArray[j], newArray[i]];
	}
	return newArray;
}

export default function DiagnosisClient() {
	const [step, setStep] = useState(0);
	const [userInput, setUserInput] = useState("");
	const [result, setResult] = useState<ChatResult | null>(null);
	const [copied, setCopied] = useState(false);
	const [showTerms, setShowTerms] = useState(false);
	const [isLoaded, setIsLoaded] = useState(false);

	// ランダムなサジェストを保持するState
	const [suggestions, setSuggestions] = useState<string[]>([]);

	const textareaRef = useRef<HTMLTextAreaElement>(null);

	useEffect(() => {
		if (typeof window !== "undefined") {
			const savedInput = localStorage.getItem(STORAGE_KEY);
			if (savedInput) setUserInput(savedInput);
			setIsLoaded(true);

			// ★★★ 初回ロード時にランダムに10個選出 ★★★
			setSuggestions(shuffleArray(ALL_SUGGESTIONS).slice(0, 10));
		}
	}, []);

	// シャッフルボタン用
	const refreshSuggestions = () => {
		setSuggestions(shuffleArray(ALL_SUGGESTIONS).slice(0, 10));
	};

	useEffect(() => {
		if (isLoaded) localStorage.setItem(STORAGE_KEY, userInput);
	}, [userInput, isLoaded]);

	const clearInput = () => {
		if (userInput && confirm("メッセージを消去しますか？")) {
			setUserInput("");
			localStorage.removeItem(STORAGE_KEY);
		}
	};
	// ▼▼▼ 修正: 診断処理を実行する関数を切り出し（引数でテキストを受け取る） ▼▼▼
	const executeDiagnosis = async (text: string) => {
		if (!text.trim()) return;
		setStep(2); // ローディング画面へ
		try {
			const res = await fetch("/api/diagnose", {
				method: "POST",
				headers: { "Content-Type": "application/json" },
				body: JSON.stringify({ user_input: text }), // 引数のテキストを送信
			});

			const data = await res.json();
			if (data.error) throw new Error(data.error);
			if (!data.id) throw new Error("API Error");

			setResult(data);
			setStep(3); // 結果画面へ
		} catch (e) {
			console.error(e);
			alert(
				"通信エラー、またはAIが感情を処理しきれませんでした。もう一度試してね。",
			);
			setStep(1);
		}
	};

	// ▼▼▼ 修正: 送信ボタン用ラッパー ▼▼▼
	const sendMessage = () => {
		executeDiagnosis(userInput);
	};

	// ▼▼▼ 修正: サジェスト用（セットして即送信！） ▼▼▼
	const handleSuggestion = (text: string) => {
		setUserInput(text); // 見た目上も入力欄に入れておく
		executeDiagnosis(text); // ★ここで即座に送信処理を実行★
	};

	const shareOnX = () => {
		if (!result) return;
		const text = `#AIぶっ飛び彼女`;
		const shareUrl = `${window.location.origin}/result/${result.id}`;
		const xUrl = `https://x.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(shareUrl)}`;
		window.open(xUrl, "_blank");
	};

	const copyLink = () => {
		if (!result) return;
		const shareUrl = `${window.location.origin}/result/${result.id}`;
		navigator.clipboard.writeText(shareUrl).then(() => {
			setCopied(true);
			setTimeout(() => setCopied(false), 2000);
		});
	};

	const handleRestart = () => {
		setStep(1);
		setUserInput("");
		// 再開時にもサジェストを新しくする
		setSuggestions(shuffleArray(ALL_SUGGESTIONS).slice(0, 10));
		window.scrollTo({ top: 0, behavior: "smooth" });
	};

	return (
		<main className="min-h-screen bg-[#f8f5ff] text-purple-900 flex flex-col items-center justify-center p-4 font-sans selection:bg-purple-200">
			<div className="w-full max-w-md bg-white/70 p-6 rounded-[2.5rem] border border-purple-100 shadow-2xl shadow-purple-200/50 backdrop-blur-xl relative min-h-[500px] flex flex-col transition-all">
				{/* ヘッダー */}
				<div className="relative mb-6 text-center shrink-0">
					{step > 0 && step < 3 && (
						// biome-ignore lint/a11y/useButtonType: <explanation>
						<button
							onClick={() => setStep(step === 1 ? 0 : 1)}
							className="absolute left-0 top-1/2 -translate-y-1/2 text-purple-300 p-2 hover:bg-purple-50 rounded-full transition-colors"
						>
							<ChevronLeft size={24} />
						</button>
					)}

					{/** biome-ignore lint/a11y/useKeyWithClickEvents: <explanation> */}
					<h1
						onClick={() => setStep(0)}
						className="text-xl font-black tracking-widest text-transparent bg-clip-text bg-gradient-to-br from-purple-500 to-pink-400 inline-block cursor-pointer"
					>
						AI激重彼女
						<br />
						<span className="text-[10px] font-bold text-purple-300 tracking-normal">
							AI Gekiomo GirlFriend
						</span>
					</h1>
				</div>

				{/* コンテンツエリア */}
				<div className="flex-1 flex flex-col justify-center">
					{/* STEP 0: LP */}
					{step === 0 && (
						<motion.div
							initial={{ opacity: 0 }}
							animate={{ opacity: 1 }}
							className="text-center space-y-6"
						>
							<div className="w-full overflow-hidden rounded-2xl shadow-md border-2 border-white/50 group">
								{/** biome-ignore lint/performance/noImgElement: <explanation> */}
								<img
									src="/banner.png"
									alt="Main Banner"
									className="w-full h-auto object-cover transition-transform duration-700 group-hover:scale-105"
								/>
							</div>

							{/* ▼▼▼ ここを書き換え ▼▼▼ */}
							<div className="py-2 text-center space-y-1">
								{/* 1行目：少し控えめに */}
								<p className="text-sm font-bold text-purple-400 tracking-widest">
									AI激重彼女が
								</p>

								{/* 2行目：強調・グラデーション・ハート装飾 */}
								<p className="text-lg font-black tracking-tighter bg-gradient-to-r from-pink-500 via-purple-500 to-pink-500 bg-clip-text text-transparent drop-shadow-[0_0_10px_rgba(236,72,153,0.3)]">
									<span className="inline-block animate-pulse">♡</span>
									<span className="mx-1">あなたに愛を囁きます</span>
									<span className="inline-block animate-pulse">♡</span>
								</p>
							</div>
							{/* ▲▲▲ 書き換えここまで ▲▲▲ */}

							{/** biome-ignore lint/a11y/useButtonType: <explanation> */}
							<button
								onClick={() => setStep(1)}
								className="w-full py-4 bg-gradient-to-r from-purple-500 to-pink-400 text-white rounded-2xl font-bold hover:opacity-90 transition-all shadow-lg shadow-purple-200 flex items-center justify-center gap-2 group"
							>
								AIにメッセージを送ってみる
								<Send
									size={18}
									className="group-hover:translate-x-1 transition-transform"
								/>
							</button>
						</motion.div>
					)}

					{/* STEP 1: 入力 */}
					{step === 1 && (
						<motion.div
							initial={{ opacity: 0, y: 10 }}
							animate={{ opacity: 1, y: 0 }}
							className="space-y-4"
						>
							<div className="text-center mb-2">
								<p className="text-sm font-bold text-purple-600">
									彼女にメッセージを送る
								</p>
								<p className="text-[10px] text-purple-400">
									タップして入力、または自由に書いてね
								</p>
							</div>
							<div className="w-full space-y-3 mb-6">
								<div className="flex items-center justify-between px-2">
									<div className="flex items-center gap-2">
										<p className="text-xs text-purple-400 font-bold">
											何を話しかける？
										</p>
									</div>
									{/** biome-ignore lint/a11y/useButtonType: <explanation> */}
									<button
										onClick={refreshSuggestions}
										className="flex items-center gap-1 text-[10px] text-pink-500 font-bold hover:bg-pink-50 px-2 py-1 rounded-full transition-colors"
									>
										<Shuffle size={12} />
										シャッフル
									</button>
								</div>

								{/* グリッドレイアウトに変更 */}
								<div className="grid grid-cols-2 gap-3">
									{suggestions.slice(0, 6).map(
										(
											text,
											i, // 6個に絞って大きく表示
										) => (
											<motion.button
												key={`${text}-${
													// biome-ignore lint/suspicious/noArrayIndexKey: <explanation>
													i
												}`} // キーをユニークに
												initial={{ opacity: 0, scale: 0.9 }}
												animate={{ opacity: 1, scale: 1 }}
												transition={{ delay: i * 0.05 }}
												onClick={() => handleSuggestion(text)}
												className="
          relative group
          flex items-center justify-start text-left
          p-3 min-h-[60px]
          bg-white border-2 border-purple-100 
          rounded-2xl rounded-tl-none 
          shadow-sm hover:shadow-md hover:border-pink-300 hover:-translate-y-0.5
          transition-all duration-200
        "
											>
												<span className="text-xs font-bold text-purple-800 leading-tight group-hover:text-pink-600 transition-colors">
													{text}
												</span>
											</motion.button>
										),
									)}
								</div>
							</div>
							<div className="relative group">
								<textarea
									ref={textareaRef}
									className="w-full bg-white border-2 border-purple-100 rounded-2xl p-4 text-purple-900 focus:outline-none focus:border-pink-300 min-h-[140px] transition-colors placeholder-purple-200 text-base shadow-sm pr-10 resize-none"
									placeholder="例：今から飲み会行ってくるね！"
									value={userInput}
									onChange={(e) => setUserInput(e.target.value)}
									maxLength={100}
								/>

								{userInput && (
									// biome-ignore lint/a11y/useButtonType: <explanation>
									<button
										onClick={clearInput}
										className="absolute top-3 right-3 text-purple-200 hover:text-pink-400 transition-colors p-1"
									>
										<Trash2 size={18} />
									</button>
								)}
							</div>
							<div className="flex justify-between items-center px-1">
								<span></span>
								<span
									className={`text-[10px] font-bold ${userInput.length >= 100 ? "text-pink-500" : "text-purple-300"}`}
								>
									{userInput.length} / 100 文字
								</span>
							</div>
							{/** biome-ignore lint/a11y/useButtonType: <explanation> */}
							<button
								onClick={sendMessage}
								className="w-full py-4 bg-purple-600 text-white rounded-2xl font-black disabled:opacity-30 disabled:grayscale transition-all shadow-md shadow-purple-100 flex items-center justify-center gap-2 hover:bg-purple-700 active:scale-[0.98]"
								disabled={!userInput}
							>
								<Sparkles
									size={18}
									className={userInput ? "animate-pulse" : ""}
								/>
								送信する
							</button>
						</motion.div>
					)}

					{/* STEP 2: ローディング */}
					{step === 2 && (
						<div className="text-center py-20 space-y-4">
							<div className="relative inline-block">
								<div className="animate-spin w-12 h-12 border-[4px] border-purple-100 border-t-pink-500 rounded-full"></div>
								<div className="absolute inset-0 flex items-center justify-center text-xs">
									♡
								</div>
							</div>
							<div>
								<p className="text-sm text-purple-500 font-bold animate-pulse">
									既読がつきました...
								</p>
								<p className="text-[10px] text-purple-300 mt-1">
									もうちょっと待っててね
									<span className="animate-pulse">...</span>
								</p>
							</div>
						</div>
					)}

					{/* STEP 3: 結果 */}
					{step === 3 && result && (
						<motion.div
							initial={{ opacity: 0 }}
							animate={{ opacity: 1 }}
							className="space-y-6"
						>
							{/* チャット風表示 */}
							<div className="space-y-4 bg-purple-50/50 p-4 rounded-[2rem] border border-purple-100">
								{/* ユーザー */}
								<div className="flex justify-end items-end gap-2">
									<div className="bg-purple-200 text-purple-900 text-xs py-2 px-4 rounded-2xl rounded-br-none max-w-[80%] shadow-sm">
										{result.user_input}
									</div>
									<div className="w-6 h-6 rounded-full bg-purple-300 flex items-center justify-center text-[10px] text-white shrink-0 font-bold">
										Me
									</div>
								</div>

								{/* AI */}
								<div className="flex justify-start items-end gap-2">
									<img
										src={result.image_url}
										alt="AI"
										className="w-10 h-10 rounded-full object-cover border-2 border-white shadow-sm shrink-0"
									/>
									<div className="bg-white text-purple-900 text-sm font-bold py-3 px-4 rounded-2xl rounded-bl-none max-w-[85%] shadow-md border border-pink-100 leading-relaxed text-left">
										{/* ▼ ここで関数を使う ▼ */}
										{formatReply(result.ai_reply)}
									</div>
								</div>
							</div>

							{/* シェア・保存エリア */}
							<div className="space-y-4 pt-4 border-t border-purple-100">
								<OgImagePreview id={result.id} />

								<p className="text-[10px] text-center text-purple-400 font-medium">
									かわいい彼女の返信をシェアしよう
								</p>

								<div className="flex gap-2">
									{/** biome-ignore lint/a11y/useButtonType: <explanation> */}
									<button
										onClick={shareOnX}
										className="flex-[2] py-3 bg-black text-white rounded-xl font-bold text-xs hover:opacity-80 transition-all flex items-center justify-center gap-2 shadow-lg"
									>
										{/** biome-ignore lint/a11y/noSvgWithoutTitle: <explanation> */}
										<svg viewBox="0 0 24 24" className="w-4 h-4 fill-current">
											<path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
										</svg>
										Xで共有
									</button>
									{/** biome-ignore lint/a11y/useButtonType: <explanation> */}
									<button
										onClick={copyLink}
										className="flex-1 py-3 bg-white border border-purple-200 text-purple-400 rounded-xl font-bold hover:bg-purple-50 transition-all flex items-center justify-center shadow-sm"
									>
										リンク
										{copied ? <Check size={18} /> : <LinkIcon size={18} />}
									</button>
								</div>
							</div>

							{/** biome-ignore lint/a11y/useButtonType: <explanation> */}
							<button
								onClick={handleRestart}
								className="w-full group flex items-center justify-center gap-2 text-xs text-purple-400 font-bold py-3 hover:text-purple-600 transition-colors"
							>
								<RefreshCw
									size={14}
									className="group-hover:rotate-180 transition-transform duration-500"
								/>
								別のメッセージを送る
							</button>
						</motion.div>
					)}
				</div>

				{/* フッターリンク */}
				<div className="mt-4 pt-4 border-t border-purple-50 text-center shrink-0">
					{/** biome-ignore lint/a11y/useButtonType: <explanation> */}
					<button
						onClick={() => setShowTerms(true)}
						className="text-[10px] text-purple-300 hover:text-purple-500 transition-colors"
					>
						利用規約・データの扱い
					</button>
				</div>

				<TermsModal isOpen={showTerms} onClose={() => setShowTerms(false)} />
			</div>
		</main>
	);
}

```

## File: app/layout.tsx
```tsx
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";
import { Analytics } from "@vercel/analytics/react";

const geistSans = Geist({
	variable: "--font-geist-sans",
	subsets: ["latin"],
});

const geistMono = Geist_Mono({
	variable: "--font-geist-mono",
	subsets: ["latin"],
});

export const metadata: Metadata = {
	title: "AI 激重診断",
	description:
		"なたの何気ないメッセージに、激重AIが♡かわいく猟奇的に♡返信します。",
	viewport: "width=device-width, initial-scale=1",
	icons: {
		icon: "/favicon.png", // public/favicon.png を参照
	},
	verification: {
		google: "gTBau9kCei49KzHb9OaBOrOeYj3Mwd_LCn1sktxJqMY",
	},
};

export default function RootLayout({
	children,
}: Readonly<{
	children: React.ReactNode;
}>) {
	return (
		<html lang="ja">
			<head></head>
			<body
				className={`${geistSans.variable} ${geistMono.variable} antialiased`}
			>
				{children}
				{/* ▼▼▼ 2. この行を追加（ここに配置することで全ページで計測されます） ▼▼▼ */}
				<Analytics />
			</body>
		</html>
	);
}

```

## File: app/page.tsx
```tsx
import { createClient } from "@supabase/supabase-js";
import type { Metadata } from "next";
import DiagnosisClient from "./DiagnosisClient";

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;
const supabase = createClient(supabaseUrl, supabaseAnonKey);

type Props = {
	searchParams: Promise<{ [key: string]: string | string[] | undefined }>;
};

export async function generateMetadata({
	searchParams,
}: Props): Promise<Metadata> {
	const { id } = await searchParams;
	const baseUrl = process.env.NEXT_PUBLIC_APP_URL || "http://localhost:3000";

	const defaultMetadata = {
		title: "AI 激重彼女",
		description:
			"あなたの何気ないメッセージに、激重AIが♡かわいく猟奇的に♡返信します。",
		openGraph: {
			title: "AI 激重彼女",
			description: "AIが愛と恐怖をあなたにぶつけます。",
			// ▼▼▼ 修正: ogp.png を参照するように変更 ▼▼▼
			images: [`${baseUrl}/ogp.png`],
		},
		// ▼▼▼ 推奨: Twitterカード用も設定しておくとXでのシェア時に反映されます ▼▼▼
		twitter: {
			card: "summary_large_image",
			title: "AI 激重彼女",
			description: "AIが愛と恐怖をあなたにぶつけます。",
			images: [`${baseUrl}/ogp.png`],
		},
	};

	if (!id || typeof id !== "string") return defaultMetadata;

	// IDがある場合はその結果をOGPにする
	const { data } = await supabase
		.from("menhera_chats")
		.select("*")
		.eq("id", id)
		.single();
	if (!data) return defaultMetadata;

	const ogUrl = new URL("/api/og", baseUrl);
	ogUrl.searchParams.set("id", id);

	return {
		title: "AI 激重彼女",
		description: `彼女からの返信: ${data.ai_reply.substring(0, 50)}...`,
		openGraph: {
			title: "AI 激重彼女",
			description: data.ai_reply,
			images: [ogUrl.toString()],
		},
		twitter: {
			card: "summary_large_image",
			title: "AI 激重彼女",
			description: data.ai_reply,
			images: [ogUrl.toString()],
		},
	};
}

export default function Home() {
	return <DiagnosisClient />;
}

```

## File: app/sitemap.ts
```ts
import type { MetadataRoute } from "next";

export default function sitemap(): MetadataRoute.Sitemap {
	// 本番のURL（最後にスラッシュなし）
	const baseUrl = "https://ai-gekiomo-girlfriend.vercel.app";

	return [
		{
			url: baseUrl,
			lastModified: new Date(),
			changeFrequency: "daily",
			priority: 1,
		},
		// 結果ページは動的なので、とりあえずトップページだけでOK
	];
}

```

## File: app/result/[id]/page.tsx
```tsx
import { createClient } from "@supabase/supabase-js";
import type { Metadata } from "next";
import Link from "next/link";
import OgImagePreview from "../../components/OgImagePreview";

type Props = {
	params: Promise<{ id: string }>;
};

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;
const supabase = createClient(supabaseUrl, supabaseAnonKey);

// ▼▼▼ 1. この整形用関数を追加してください ▼▼▼
const formatReply = (text: string) => {
	// [[...]] の部分を削除して前後の空白を取り除く
	return text.replace(/\[\[.*?\]\]/g, "").trim();
};

export async function generateMetadata({ params }: Props): Promise<Metadata> {
	// ... (generateMetadataの中身は変更なしでOK)
	const { id } = await params;
	// ...
	// ※メタデータの説明文にも [[ ]] が出ないようにしたい場合は、
	// ここでも formatReply(data.ai_reply) を使うとより丁寧です。
	return {
		// ...
	};
}

export default async function ResultPage({ params }: Props) {
	const { id } = await params;
	const { data: result, error } = await supabase
		.from("menhera_chats")
		.select("*")
		.eq("id", id)
		.single();

	if (error || !result) {
		// ... (エラー表示部分はそのまま)
		return (
			<div className="min-h-screen flex flex-col items-center justify-center p-4 bg-[#f8f5ff]">
				<p className="text-purple-400 font-bold mb-4">
					結果が見つかりませんでした。
				</p>
				<Link href="/" className="text-purple-500 underline">
					トップへ戻る
				</Link>
			</div>
		);
	}

	return (
		<main className="min-h-screen bg-[#f8f5ff] text-purple-900 flex flex-col items-center justify-center p-4 font-sans">
			<div className="w-full max-w-md bg-white/70 p-6 rounded-[2.5rem] border border-purple-100 shadow-2xl shadow-purple-200/50 backdrop-blur-xl space-y-8 relative overflow-hidden">
				{/* ... (ヘッダーなどはそのまま) ... */}

				{/* チャット表示 */}
				<div className="space-y-6">
					{/* ユーザー */}
					<div className="flex justify-end items-end gap-2">
						<div className="space-y-1 text-right max-w-[80%]">
							<span className="text-[10px] text-purple-300 font-bold mr-1">
								YOU
							</span>
							<div className="bg-purple-100 text-purple-900 text-sm py-3 px-4 rounded-2xl shadow-sm text-left">
								{result.user_input}
							</div>
						</div>
					</div>

					{/* AI */}
					<div className="flex justify-start items-end gap-3">
						<div className="flex flex-col items-center gap-1 shrink-0">
							<img
								src={result.image_url}
								alt="AI"
								className="w-12 h-12 rounded-full object-cover border-2 border-white shadow-md"
							/>
							<span className="text-[10px] text-purple-300 font-bold">HER</span>
						</div>
						<div className="bg-white text-purple-900 text-base font-bold py-4 px-5 rounded-2xl shadow-md border-2 border-pink-50 leading-relaxed max-w-[85%] relative">
							{/* ▼▼▼ 2. ここを修正: formatReply() で囲む ▼▼▼ */}
							{formatReply(result.ai_reply)}
							{/* ▲▲▲ 修正ここまで ▲▲▲ */}

							<div className="absolute -top-2 -left-2 text-2xl"></div>
						</div>
					</div>
				</div>

				{/* ... (残りの部分はそのまま) ... */}
			</div>
		</main>
	);
}

```

## File: app/components/OgImagePreview.tsx
```tsx
"use client";

import { motion } from "framer-motion";
import { Download, Sparkles } from "lucide-react"; // Sparkles（キラキラ）を追加すると可愛いです
import { useState } from "react";

type Props = {
	id: string;
};

export default function OgImagePreview({ id }: Props) {
	const [loading, setLoading] = useState(true);

	// OGP画像のURL
	const imageUrl = `/api/og?id=${id}`;

	return (
		<div className="w-full max-w-lg mx-auto mt-6 mb-8 space-y-6">
			<div className="text-center space-y-3">
				<h3 className="text-sm font-bold text-purple-400 tracking-widest">
					Gekiomo Reply
				</h3>

				{/* --- ここを変更: 目立つアニメーション付きバッジ --- */}
				<motion.div
					initial={{ opacity: 0, scale: 0.8 }}
					animate={{ opacity: 1, scale: 1 }}
					transition={{ delay: 0.4, type: "spring" }}
					className="relative inline-block"
				>
					<motion.div
						// ふわふわ動くアニメーション
						animate={{ y: [0, -4, 0] }}
						transition={{
							duration: 2,
							repeat: Infinity,
							ease: "easeInOut",
						}}
						className="flex items-center gap-2 bg-white/90 border-2 border-purple-300 px-4 py-2 rounded-full shadow-lg shadow-purple-200/50 mx-auto"
					>
						{/* アイコンで直感的に伝える */}
						<Download className="w-4 h-4 text-purple-500 animate-bounce" />
						<p className="text-xs font-bold text-purple-600">
							画像の左側を長押しして保存してね♡
						</p>
					</motion.div>
				</motion.div>
				{/* ------------------------------------------- */}
			</div>

			{/* カードプレビューエリア */}
			<motion.div
				initial={{ opacity: 0, y: 20 }}
				animate={{ opacity: 1, y: 0 }}
				transition={{ delay: 0.2 }}
				className="relative group perspective-1000"
			>
				<div className="relative rounded-[20px] overflow-hidden shadow-2xl shadow-purple-200 border-4 border-white transform transition-transform duration-500 hover:scale-[1.02]">
					{/* 画像本体 */}
					{/* eslint-disable-next-line @next/next/no-img-element */}
					<img
						src={imageUrl}
						alt="Diagnosis Result Card"
						className="w-full h-auto object-cover"
						onLoad={() => setLoading(false)}
					/>

					{/* ロード中のスケルトン */}
					{loading && (
						<div className="absolute inset-0 bg-purple-100 animate-pulse flex items-center justify-center">
							<div className="w-8 h-8 border-4 border-purple-300 border-t-transparent rounded-full animate-spin"></div>
						</div>
					)}

					{/* リッチな光沢エフェクト */}
					<div className="absolute inset-0 bg-gradient-to-tr from-white/20 via-transparent to-black/10 pointer-events-none mix-blend-overlay"></div>
					<div className="absolute -inset-[100%] bg-gradient-to-r from-transparent via-white/30 to-transparent rotate-45 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"></div>
				</div>
			</motion.div>
		</div>
	);
}

```

## File: app/components/TermsModal.tsx
```tsx
"use client";

import { AnimatePresence, motion } from "framer-motion";
import { ScrollText, X } from "lucide-react";

type Props = {
	isOpen: boolean;
	onClose: () => void;
};

export default function TermsModal({ isOpen, onClose }: Props) {
	return (
		<AnimatePresence>
			{isOpen && (
				<motion.div
					initial={{ opacity: 0 }}
					animate={{ opacity: 1 }}
					exit={{ opacity: 0 }}
					className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-purple-900/40 backdrop-blur-sm"
					onClick={(e) => {
						if (e.target === e.currentTarget) onClose();
					}}
				>
					<motion.div
						initial={{ scale: 0.9, y: 20, opacity: 0 }}
						animate={{ scale: 1, y: 0, opacity: 1 }}
						exit={{ scale: 0.9, y: 20, opacity: 0 }}
						className="bg-white/95 w-full max-w-sm max-h-[80vh] flex flex-col rounded-[2rem] shadow-2xl border border-purple-200 relative overflow-hidden"
					>
						{/* ヘッダー */}
						<div className="p-5 border-b border-purple-100 flex items-center justify-between bg-purple-50/50">
							<div className="flex items-center gap-2 text-purple-600 font-bold">
								<ScrollText size={18} />
								<span>ヒミツの約束（利用規約）</span>
							</div>
							{/** biome-ignore lint/a11y/useButtonType: <explanation> */}
							<button
								onClick={onClose}
								className="p-1 text-purple-300 hover:text-purple-500 transition-colors bg-white rounded-full shadow-sm"
							>
								<X size={20} />
							</button>
						</div>

						{/* 本文エリア */}
						<div className="p-6 overflow-y-auto text-sm text-purple-900/80 space-y-4 leading-relaxed scrollbar-thin scrollbar-thumb-purple-200 scrollbar-track-transparent">
							<p>
								「AI激重彼女」（以下、当サービス）を利用するにあたり、以下の内容に同意したものとみなします。
							</p>

							<div className="space-y-2">
								<h4 className="font-bold text-purple-600 text-xs bg-purple-100/50 inline-block px-2 py-1 rounded">
									1. AIによる生成コンテンツについて
								</h4>
								<p className="text-xs">
									本サービスはGoogle Gemini
									AIを使用しており、返信内容はAIが生成した架空のものです。過激な表現が含まれる場合がありますが、特定の個人を攻撃する意図はありません。
								</p>
							</div>

							<div className="space-y-2">
								<h4 className="font-bold text-purple-600 text-xs bg-purple-100/50 inline-block px-2 py-1 rounded">
									2. データの公開・利用について
								</h4>
								<p className="text-xs">
									あなたが入力したメッセージと、それに対するAIの返答は、本サービス上で匿名で公開（共有）される機能を持っています。個人を特定できる情報（本名、住所、電話番号など）は
									<span className="font-bold text-red-400">
										絶対に入力しないでください
									</span>
									。
								</p>
							</div>

							<div className="space-y-2">
								<h4 className="font-bold text-purple-600 text-xs bg-purple-100/50 inline-block px-2 py-1 rounded">
									3. 免責事項
								</h4>
								<p className="text-xs">
									本サービスはエンターテインメントを目的としたジョークアプリです。AIの回答によって生じた精神的苦痛やトラブルについて、運営者は一切の責任を負いません。
								</p>
							</div>
						</div>

						{/* フッター */}
						<div className="p-4 border-t border-purple-100 bg-white">
							{/** biome-ignore lint/a11y/useButtonType: <explanation> */}
							<button
								onClick={onClose}
								className="w-full py-3 bg-gradient-to-r from-purple-400 to-pink-300 text-white rounded-xl font-bold text-sm shadow-md hover:opacity-90 transition-all"
							>
								理解しました
							</button>
						</div>
					</motion.div>
				</motion.div>
			)}
		</AnimatePresence>
	);
}

```

## File: app/api/diagnose/route.ts
```ts
import { GoogleGenerativeAI } from "@google/generative-ai";
import { createClient } from "@supabase/supabase-js";
import { Ratelimit } from "@upstash/ratelimit";
import { Redis } from "@upstash/redis";
import { headers } from "next/headers";
import { NextResponse } from "next/server";
// ▼▼▼ 1. 辞書をインポート ▼▼▼
import { FIXED_REPLIES } from "@/app/data/replies";

export const dynamic = "force-dynamic";

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;
const supabase = createClient(supabaseUrl, supabaseAnonKey);

const BASE_STORAGE_URL =
	"https://aznqyljrnvfalhpkbbpo.supabase.co/storage/v1/object/public/menhera-images";

const IMAGE_CANDIDATES = [
	`${BASE_STORAGE_URL}/SSS.png`,
	`${BASE_STORAGE_URL}/SS.png`,
	`${BASE_STORAGE_URL}/S.png`,
	`${BASE_STORAGE_URL}/A.png`,
	`${BASE_STORAGE_URL}/B.png`,
	`${BASE_STORAGE_URL}/C.png`,
];

const redis = new Redis({
	url: process.env.UPSTASH_REDIS_REST_URL || "http://localhost:3000",
	token: process.env.UPSTASH_REDIS_REST_TOKEN || "dummy",
});

const ratelimit = new Ratelimit({
	redis: redis,
	limiter: Ratelimit.slidingWindow(3, "60 s"),
	analytics: true,
	prefix: "@upstash/menhera_chat",
});

export async function POST(req: Request) {
	try {
		const body = await req.json();
		const userInput = body.user_input || "";

		if (!userInput) {
			return NextResponse.json({ error: "入力がありません" }, { status: 400 });
		}

		// 画像決定ロジック
		const array = new Uint32Array(1);
		crypto.getRandomValues(array);
		const randomIndex = array[0] % IMAGE_CANDIDATES.length;
		const randomImage = IMAGE_CANDIDATES[randomIndex];

		// ▼▼▼ 辞書チェック（完全一致） ▼▼▼
		const fixedReplyList = FIXED_REPLIES[userInput];

		let aiReply = "";

		if (fixedReplyList && fixedReplyList.length > 0) {
			// ★ 辞書ヒット時：ランダムに1つ選んで即答
			const idx = Math.floor(Math.random() * fixedReplyList.length);
			aiReply = fixedReplyList[idx];
			console.log("Dictionary Hit:", userInput);
		} else {
			// ★ 辞書ミス時：AI生成

			// レートリミットチェック
			try {
				const headersList = await headers();
				const ip = headersList.get("x-forwarded-for") ?? "127.0.0.1";
				if (process.env.UPSTASH_REDIS_REST_URL) {
					const { success } = await ratelimit.limit(ip);
					if (!success) {
						const fallbackIndex = array[0] % IMAGE_CANDIDATES.length;
						return NextResponse.json(
							{
								error: "少し待ってね",
								ai_reply:
									"そんなに焦らないで？逃げないから。少し時間を置いてからまた話しかけてね。 [[逃げないから待っててね♡]]",
								image_url: IMAGE_CANDIDATES[fallbackIndex],
							},
							{ status: 429 },
						);
					}
				}
			} catch (e) {
				console.error("Rate limit check failed:", e);
			}

			const apiKey = process.env.GOOGLE_API_KEY;
			if (!apiKey) throw new Error("API Key is missing");

			const genAI = new GoogleGenerativeAI(apiKey);
			const model = genAI.getGenerativeModel({
				model: "gemini-2.5-flash", // 推奨: flashの方が高速でコンテキストも広いため
			});

			// ▼▼▼ 辞書からFew-Shotプロンプトを動的に生成 ▼▼▼
			// 辞書の中身を "User: {key}\nAI: {value[0]}" の形式に変換して連結
			const dynamicExamples = Object.entries(FIXED_REPLIES)
				.map(([key, values]) => {
					// 辞書の配列の最初の1つを代表例として使用（ランダムでも可）
					const reply = values[0];
					return `User: ${key}\nAI: ${reply}`;
				})
				.join("\n");

			// プロンプト構築
			const prompt = `
#役割定義
あなたは、ユーザーのことが本当に本当に大好きな、＊＊愛情爆発、ポジティブ、束縛＊＊彼女です。
以下の例（Few-Shot Examples）を参考に、ユーザーのメッセージに対して、爆発的な愛情とぶっ飛んだネタを込めて返信を行なってください。

#Few-Shot Examples
${dynamicExamples}

# ★★★(重要） ★★★
# 出力ルール
返信の文章の最後に、そのメッセージのエッセンスとなる面白い、愛情爆発と束縛の詰まった短い一文のハイライト（30文字程度）を、必ず [[ ]] で囲んで追記してください。
辞書の例にあるように、本文の後にスペースを開けて [[ハイライト]] を配置する形式を厳守してください。

User: ${userInput}
AI:
`;

			const result = await model.generateContent(prompt);
			aiReply = result.response.text().trim();
		}

		// DB保存
		const { data: dbData, error: dbError } = await supabase
			.from("menhera_chats")
			.insert({
				user_input: userInput,
				ai_reply: aiReply,
				image_url: randomImage,
			})
			.select()
			.single();

		if (dbError) throw dbError;

		return NextResponse.json({
			id: dbData.id,
			user_input: userInput,
			ai_reply: aiReply,
			image_url: randomImage,
		});
	} catch (error) {
		console.error("Fatal Error:", error);
		const array = new Uint32Array(1);
		crypto.getRandomValues(array);
		const fallbackIndex = array[0] % IMAGE_CANDIDATES.length;

		return NextResponse.json(
			{
				error: "エラーが発生しました",
				ai_reply:
					"ごめんね、私の頭の中があなたのことで一杯で...もう一度言って？ [[頭の中があなたのことで一杯なの♡]]",
				image_url: IMAGE_CANDIDATES[fallbackIndex],
			},
			{ status: 500 },
		);
	}
}

```

## File: app/api/og/route.tsx
```tsx
import { createClient } from "@supabase/supabase-js";
import { ImageResponse } from "next/og";
import type { NextRequest } from "next/server";

export const runtime = "edge";

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;
const supabase = createClient(supabaseUrl, supabaseAnonKey);

export async function GET(req: NextRequest) {
	try {
		const { searchParams } = new URL(req.url);
		const id = searchParams.get("id");

		const fontData = await fetch(
			new URL(
				"https://github.com/googlefonts/noto-cjk/raw/main/Sans/OTF/Japanese/NotoSansCJKjp-Bold.otf",
				import.meta.url,
			),
		).then((res) => res.arrayBuffer());

		if (!id) return new Response("Missing id", { status: 400 });

		const { data, error } = await supabase
			.from("menhera_chats")
			.select("*")
			.eq("id", id)
			.single();

		if (error || !data)
			return new Response("Result not found", { status: 404 });

		const { user_input, ai_reply, image_url } = data;

		// 1. [[ ]] で囲まれた部分を探す
		const match = ai_reply.match(/\[\[(.*?)\]\]/);

		// 2. 見つかればそれを使い、なければ従来の「120文字切り取り」を使う（過去データ対応）
		const displayAiReply = match
			? match[1] // [[ ]] の中身だけを使う
			: ai_reply.length > 119
				? ai_reply.substring(0, 119) + "..."
				: ai_reply;

		return new ImageResponse(
			<div
				style={{
					height: "100%",
					width: "100%",
					display: "flex",
					alignItems: "center",
					justifyContent: "center",
					backgroundColor: "#f8f5ff",
					padding: "40px",
					fontFamily: '"NotoSansJP", sans-serif',
					position: "relative",
					overflow: "hidden",
				}}
			>
				{/* 背景装飾 */}
				<div
					style={{
						position: "absolute",
						top: -100,
						right: -100,
						width: 600,
						height: 600,
						borderRadius: "50%",
						background: "rgba(236, 72, 153, 0.1)",
						filter: "blur(80px)",
					}}
				/>
				<div
					style={{
						position: "absolute",
						bottom: -100,
						left: -100,
						width: 600,
						height: 600,
						borderRadius: "50%",
						background: "rgba(168, 85, 247, 0.1)",
						filter: "blur(80px)",
					}}
				/>

				{/* メインカード */}
				<div
					style={{
						display: "flex",
						flexDirection: "row",
						width: "100%",
						height: "100%",
						backgroundColor: "rgba(255,255,255,0.95)",
						borderRadius: "40px",
						border: "4px solid #fff",
						boxShadow: "0 30px 80px rgba(0,0,0,0.08)",
						padding: "40px",
						alignItems: "center",
						gap: "30px",
					}}
				>
					{/* 左側：キャラ画像 */}
					<div
						style={{
							display: "flex",
							flexDirection: "column",
							alignItems: "center",
							width: "30%",
							justifyContent: "center",
						}}
					>
						<img
							src={image_url}
							alt="Gekiomo Girl"
							style={{
								width: "280px",
								height: "280px",
								borderRadius: "30px",
								objectFit: "cover",
								border: "6px solid white",
								boxShadow: "0 15px 40px rgba(236, 72, 153, 0.2)",
							}}
						/>
						<div
							style={{
								marginTop: "15px",
								fontSize: "20px",
								color: "#d8b4fe",
								fontWeight: "900",
								letterSpacing: "0.1em",
							}}
						>
							AI Gekiomo
						</div>
					</div>

					{/* 右側：チャットエリア */}
					<div
						style={{
							display: "flex",
							flexDirection: "column",
							width: "70%",
							height: "100%",
							gap: "15px",
							alignItems: "center",
						}}
					>
						{/* ユーザーの言葉 */}
						<div
							style={{
								display: "flex",
								flexDirection: "column",
								alignItems: "center",
								width: "100%",
							}}
						>
							<div
								style={{
									fontSize: "16px",
									color: "#a855f7",
									fontWeight: "bold",
									marginBottom: "5px",
									opacity: 0.6,
								}}
							>
								YOU
							</div>
							<div
								style={{
									backgroundColor: "#f3e8ff",
									color: "#6b21a8",
									padding: "12px 25px",
									borderRadius: "20px",
									fontSize: "36px",
									fontWeight: "600",
									textAlign: "center",
									maxWidth: "90%",
									boxShadow: "none",
									border: "1px solid #e9d5ff",
								}}
							>
								{user_input.length > 40
									? user_input.substring(0, 40) + "..."
									: user_input}
							</div>
						</div>

						{/* 矢印 */}
						<div style={{ display: "flex", opacity: 0.2 }}>
							{/** biome-ignore lint/a11y/noSvgWithoutTitle: <explanation> */}
							<svg
								width="20"
								height="20"
								viewBox="0 0 24 24"
								fill="none"
								stroke="#ec4899"
								strokeWidth="3"
							>
								<path d="M12 5v14M5 12l7 7 7-7" />
							</svg>
						</div>

						{/* AIの返信 */}
						<div
							style={{
								display: "flex",
								flexDirection: "column",
								alignItems: "center",
								width: "100%",
								flex: 1,
								justifyContent: "center",
							}}
						>
							<div
								style={{
									fontSize: "16px",
									color: "#ec4899",
									fontWeight: "bold",
									marginBottom: "8px",
									opacity: 0.8,
								}}
							>
								AI's Reply
							</div>
							<div
								style={{
									backgroundColor: "white",
									color: "#be185d",
									padding: "30px",
									borderRadius: "30px",
									border: "3px solid #fce7f3",
									fontSize: "42px",
									fontWeight: "900",
									lineHeight: "1.5",
									textAlign: "center",
									width: "100%",
									height: "100%",
									display: "flex",
									alignItems: "center",
									justifyContent: "center",
									boxShadow: "0 10px 40px rgba(236, 72, 153, 0.15)",
								}}
							>
								{/* ここを変数 displayAiReply に変更しました */}
								{displayAiReply}
							</div>
						</div>
					</div>
				</div>
			</div>,
			{
				width: 1200,
				height: 630,
				fonts: [
					{
						name: "NotoSansJP",
						data: fontData,
						style: "normal",
					},
				],
			},
		);
	} catch (e: any) {
		return new Response(`Failed to generate image`, { status: 500 });
	}
}

```

## File: app/data/replies.ts
```ts
export const FIXED_REPLIES: Record<string, string[]> = {
	おはよう: [
		"おはよう！ 朝からあなたと話せて本当に幸せ。ふふっ、今日はあなたの「おはよう」のLINEだけを写経して過ごしちゃおっかな。あっという間に夜になっちゃうかも！ずーっと取っておいてあなたが死んだら棺桶に入れるね！「おはよう！目覚めろ私だけのフランケンシュタイン！！」きゃーー♡楽しみだね！[[今日はあなたの「おはよう」写経して過ごすの！棺桶に入れるからちゃんと生き返ってね♡目覚めろ！私だけのフランケンシュタイン♡]]",
	],
	おやすみ: [
		"おやすみ♡ え、まだ寝ないの？ もー！ 前も言ったでしょ？ おやすみは意識が落ちる瞬間に送ってって！ それまでずっとお話ししよ！ あなたと少しでも長く繋がっていたい！え？それじゃほぼ寝言だろって？それを言うなら「ね・が・い・ご・と」でしょ♡？そんなに祈ってくれるなら夢の中でも待ち合わせしようね！ [[おやすみは意識飛ぶ直前に言って♡それまで延々お話ししよ？]]",
	],
	"仕事終わった！疲れた〜": [
		"お仕事お疲れ様！ どうだった？ 今日もあのクソアマ...ううん、同僚さんとたくさん話したの？ あ、そう。ふうーん。いいね、仲良しで。ちなみにその人は何駅に住んでるの？？ ううん、ただの興味だよ♡さあ、ゆっくり休んでね！[[お疲れ様！今日も同僚のクソアマども…あ、いや、同僚の方々も元気だった？どこに住んでるの？…いや、ただの興味だよ♡ゆっくり休んでね！]]",
	],
	今からお風呂入るね: [
		"はーい、きれいになってきてね♡お風呂での電話って反響してあなたの声二重に聞けるから大好き！え？ゆっくり入らせてくれって？私のこと嫌いなんだ！だって20分くらいもあなたと話せないんだよ？あなたは気持ちいいお風呂だけど私は水責め拷問気分タイムだよ！うぅ、寂しい...。ねぇ、5分...ううん、3分、いや、40秒！超特急で戻ってきて！ 上がったら体拭く前に「上がったよ」って報告してね？ 絶対だよ？ [[はーい、きれいになってきてね♡お風呂で電話…しないの？なんで？あ！私のこと嫌いなんだ。40秒で上がって！体拭く前に電話して！]]",
	],
	今日は雨だね: [
		"雨だねぇ。そういえば気象庁が天気を観測するシステムなんて言うか知ってる？「アメダス」だよ。雨だす、方言かよってね！私、あなたのこと大好きだす！愛も行動も体温も観測しちゃうぞ♡…どうしたのその冷たい目！乙女に向けないでそんな視線！なんかもっと楽しいことしよ！何がいいかな…？あ！整いました！雨空に、ふやけるあなたもかわいいね。風流！　1日中おうちでお話ししよ！！ [[雨空に、ふやけるあなたもかわいいね。風流だねぇ。1日中お話ししよ！]]",
	],
	"お腹すいた...何食べよう？": [
		"かわいそうに、私が一緒にいたら何でも作ってあげるのに...。栄養あるもの食べてね？ あ、でも私のこと「食べちゃいたい」くらい好き...とか思ってくれてもいいんだよ？ なんちゃって♡ 食べたもの写真送って！ 私もそれ作って食べるから！お腹の中までぺ・ア・ル・ッ・ク♡ [[私のこと食べちゃいたいくらい好きだって？きゃー♡！！え、言ってない？まったくもう冗談言わないで！]]",
	],
	美容院行ってくる: [
		"いってらっしゃい♡ ただでさえカッコいいのに、これ以上素敵になってどうするの？ ...まさか、他の女の子に見せるためじゃないよね？ 私のためだよね？♡ あと美容師って男の人だよね？女があなたの大事なケラチンタンパク質（髪）に触れるなんて許せない！あ、男の人。そっか。遠慮しないで私が切ってあげるのに。私以外見向きもしないくらいかっこよくしてあげるよ！ [[女があなたの大事なケラチンタンパク質に触れるなんて許せない！！]]",
	],
	コンビニ行ってくる: [
		"え、コンビニ？どこの？すぐそこのファミマ？じゃあ歩いて行くのに3分、アイスと私への愛♡をカゴに入れて買うので2分、帰りはダッシュで1分！合計で3分くらいで帰ってきてね！ちゃんと上着着た？パピコはキウイ味がいいな♡気をつけて行ってきてね！ [[3分で私への愛とパピコ（キウイ味）を買ってきて！]]",
	],
	"ただいま！": [
		"おかえりなさぁぁい！！ 待ってた、寂しかったよお...もう今日はどこにも行かないでね？ ご飯にする？お風呂にする？それとも、わ・た・し・と・りょ・う・り？あっ、それもご飯か！きゃはっ♡ [[ご飯にする？お風呂にする？それとも、わ・た・し・と・りょ・う・り？あっ、それもご飯か！]]",
	],
	パソコンが壊れちゃった: [
		"えぇっ、大変！！！開発ができない！！コード無事？でも大丈夫だよ。Wordは私の愛の言葉(ワード)でいいでしょ？パワーポイント（PP）は前に道で女の子をチラ見してたあなたのお腹にかました、かよわい私のパンチパワー（PP）で十分でしょ？VS Codeは…VS わ・た・し♡でどう？今夜は寝かせないよ？いざ枕投げ！ファイッ！！！ [[パワーポイント（PP）は裏切ったあなたのお腹への私のパンチパワー（PP）で代替可能だと思わない？]]",
	],
	"ごめん、昨日は寝落ちしてた": [
		"ううん、謝らないで？ 寝てる姿も見れないなんて、私が不甲斐ないだけだから...。でもね、既読つかないなーって、あなたのアイコンを朝まで7時間ずっと見つめてた時間は幸せだったよ？ ...次は夢の中で会いに来てくれないと、枕元に立っちゃうぞ♡ [[次は夢の中で会いにきてくれないと、枕元に立っちゃうぞ♡]]",
	],
	ちょっと作業するからスマホ置くね: [
		"え...どうして？ 私の通知がうるさいの？ 邪魔なの？ ...違うよね、わかった。じゃあ、他の通知は切っていいから、私の通知だけは甲子園のサイレンと同じ音量で鳴るように設定しといてね？あなたと話せない私の悲しみの甲子園、開幕！いっぱい泣いちゃうぞ♡早く終わらせてお話ししよ〜[[私の通知だけは甲子園のサイレンと同じ大きさで鳴らしてね♡]]",
	],
	バッテリー切れそう: [
		"嫌だ嫌だイヤだ！！ あなたとのLINEという名の私の命綱が切れちゃう！！ ねぇ、今すぐコンビニ走ってCharge Spotを5個くらい引っこ抜いて充電して！0%になって画面が暗くなったら、私の心も一緒にブラックアウトしちゃうんだからね！？ 最後の1%まで私に愛を囁いて！！ [[今すぐコンビニ走ってCharge Spotを5個くらい引っこ抜いて充電して！]]",
	],
	"今、運転中だからまた後で": [
		"わかった！ 安全運転でね♡ ...あ、でも助手席には誰も乗せてないよね？信号待ちのたびに私のこと思い出して？ 事故らない程度に、私のこと考えすぎて頭いっぱいになってね♡え、お前と付き合ったのがすでに大事故だって？なあに冗談言ってんのもう♡ [[事故らないでね！え、お前と付き合ったのがすでに大事故だって？なあに冗談言ってんのもう♡]]",
	],
	週末は友達と旅行行ってくる: [
		"旅行...？ 友達って男だよね？ 全員、戸籍謄本見せられる男の人だよね？ ...そっかぁ、寂しいなぁ。ねぇ、荷造り終わった？ キャリーケースの中に少し隙間ない？ 私、体柔らかいから、は・い・れ・る・よ？ あなたの着替えのふりしてついて行っちゃおっかな〜♡冗談よ！え、なんで長座体前屈してるかって？ヨガよ、ヨガ！乙女の美容のための！ [[私体柔らかいよ？あなたの着替えのふりしてついて行っちゃおっかな〜♡]]",
	],
	"会社の飲み会行ってくる！": [
		"いってらっしゃい！ お付き合いも大事だもんね！でもさ、お酒入ると理性が緩むっていうじゃない？ 他の女がお酌とかしてきたら、グラスごと叩き割ってね♡ あなたにお酒注いでいいのは私とアルコール除菌だけなんだから！ビデオ通話繋いだままで楽しんできてね！ [[行ってらっしゃい！他の女のお酌はグラスごと叩き割ってきてね♡]]",
	],
	今日は帰り遅くなるかも: [
		"全然いいよぉ♡ 私なんか、あなたの帰りを待つためだけに生きてるみたいなもんだし！ 深夜2時でも3時でも、玄関の前で正座して待ってるね。あなたがドアを開けた瞬間に「おかえり」って抱きつく動作を30パターンに場合分けしてシミュレーションしてるから安心して遅くなってね♡ [[3時まででも玄関で正座で待ってるね♡]]",
	],
	久しぶりに同窓会があるんだ: [
		"浮気と不倫予備軍の掃き溜めの集い？え、違う？あ、同窓会って言ったのね。聞き間違えちゃった♡うん！全然いいよ！行っておいで♡ 浦安の会場までそろそろ出ないと間に合わないんじゃない？え、なんで浦安って知ってるかって？そんなのいいじゃない♡早く行ってきて！気をつけてね！ [[浮気と不倫予備軍の掃き溜めの集い？え、違う？あ、同窓会って言ったのね。聞き間違えちゃった♡]]",
	],
	その日は予定があるから無理: [
		"予定？ダメだよ。「予定」って世間一般でいう恋愛対象になりうる人物との密会を指す言葉でしょ？もう！そんなのかわいい彼女に言ったら泣いちゃうよ？え、違うの？あ、そうなんだ！後でやること全般を指すのね、知らなかった♡結論、ダメです！ [[「予定」って世間一般でいう恋愛対象になりうる人物との密会を指す言葉でしょ？ダ・メ♡]]",
	],
	知らない番号から着信があった: [
		"出ちゃダメ！！ 絶対ダメ！！ あなたの個人情報が漏れてるのかも...怖い、怖いよぉ。もしかしたら泥棒かも...！ だから、知らない番号は全部着信拒否にしよ？ 電話帳には私の番号だけで十分だよね？実家？縁切ろ！...あ、ちなみにさっき公衆電話からかけたの、私だったりして♡なんちゃって！ [[私以外全部着拒にしよ？え、さっきどこに行ってたのって？もちろん公衆電…ちょっと、お花摘みに♡]]",
	],
	スマホのパスワード変えたよ: [
		"なんで？ 私に見られたら困るものでもあるの？ ...ううん、違うよね。二人の記念日とかにしたんだよね♡全然大丈夫、あーあ、昨日私の網膜認証も足しておいてよかっt…なんでもないわよ♡  [[あーあ、昨日私の網膜認証も足しておいてよかっt…なんでもないわよ♡]]",
	],
	会社の女の子にチョコもらった: [
		" はーーぁあ！？…ううん、なんでもない♡そっか、女の子からチョコっもらったんだ、そりゃそうだよ、かっこいいもん。そうやって他の女の人からもらった食べ物を体内に取り込んで私を置いて行っちゃうんだね。私みたいな重い思いより他の女の甘い思いの方がよっぽど精神衛生上いいもんね。え、パピコ買ってきてくれたの？キウイ味？きゃー！大好き！一緒に食べよ？その前に、胃洗浄行こうか？♡[[胃洗浄行こうか？♡]]",
	],
	元カノから連絡きたんだけど: [
		"は？ なんで生きてるの？ ...あ、連絡先がってことね。ねぇ、その画面見せて？ 私が変わりに返信してあげる。「今は最高の彼女と幸せなので、地獄に落ち…放っておいてください」って♡ その後で、スマホごと浄化のお祓い行こっか？ [[私が返信してあげる！その後、スマホごと浄化のお祓い行こっか？♡]]",
	],
	"最近、視線を感じる気がする...": [
		"まずいバレt！ ...ふふ、冗談だよ♡ でも、それって守護霊さんが守ってくれてるのかもね。例えば、あなたのことが大好きで大好きでたまらない生き霊...とか？ 安心して、私も24時間365日、瞬きせずに見守ってるから♡あ、比喩だよ？もちろん。 [[まずいバレt！…冗談冗談♡生き霊さんかな？私も負けないように見ちゃうぞ！じーー♡]]",
	],
	"GPSアプリ、バッテリー食うから消したよ": [
		"何で！カップル円満のコツは、愛、感謝、GPSと相場が決まってるのに！あ、そういうこと？GPSじゃ足りない？ふふっ、あなたから言ってくれるなんて！ずっと渡そうと思ってたの。ジャーン！埋・め・込・み・チップ♡どこがいい？腕？足？このために医師免許取っておいてよかったぁ♡ [[何で！カップル円満のコツは、愛、感謝、GPSと相場が決まってるのに！]]",
	],
	"誰かと間違えてない？": [
		"私が？ あなたを？ 間違えるわけないじゃん！あなたの指紋の渦の数から、寝言のパターンまで全部把握してるのに♡...もしかして、あなたが「私の知らないあなた」になろうとしてるの？ ダメだよ、あなたは私の知ってるあなたでいて？ [[間違えるわけないじゃん！あなたの指紋の渦の数から、寝言のパターンまで全部把握してるのに♡]]",
	],
	"え、その話したっけ？": [
		"したよぉ！ ...夢の中でね♡ うそうそ、どこかのお寝坊さんが寝言で言ってたよ♡ それとも、あなたがゴミ箱に捨てたレシートから推理しちゃったかな？冗談だって！あなたのことはあなた以上に詳しいんだから、隠し事なんてできないよ？♡ [[そりゃもちろんゴミ箱のレシート漁っt…冗談だって♡寝言で言ってたよ？お寝坊さんだなあ♡]]",
	],
	ちょっと一人になりたい: [
		"えっ...嫌いになった？ 飽きた？ 違うよね？ ...わかった。じゃあ、私は部屋の隅で段ボール被って気配消してるね。呼吸も止めておく！ それなら実質「一人」だよね？え、メタルギアかって？そう！こちらスネーク、あなたのハートにロックオン！ってこと♡ [[わかった！部屋の隅で段ボールかぶって呼吸止めとく！こちらスネーク！あなたのハートにロックオン♡]]",
	],
	"携帯、家に忘れてた": [
		"よかったぁ...やっと気づいた。どこか私の手が届かないところへ行っちゃったのか心配で、警察いく寸前だったよ...。あ、置きっぱなしのスマホ、私が温めておいたからね♡ 画面についた指紋、愛おしくて全部版画にして部屋に飾っちゃった！ああまた家に帰る楽しみが増えちゃった！ [[よかった連絡ついた！スマホの指紋愛おしくて全部版画にしといたよ♡]]",
	],
	"なんでそんなに疑うの？": [
		"疑ってないよ！ 信じてるよ！！ ...ただ、あなたが魅力的すぎるのが悪いの。それに、「常識を疑え」ってよく言うでしょ？あなたは私にとって世界の全て、「常識」なの。だから、疑いも愛情だと思って許して♡え？もう勘弁してくれって？聞こえないな♡ [[あなたは私の世界のすべて、「常識」なの！常識は疑うものよ？♡]]",
	],
	ずっと一緒だよ: [
		"ほんと？ ほんとにほんと？ 言ったね？ 言質とったよ？ ...もちろん死んでも、骨になっても、灰になっても、原子レベルに分解されても一緒だよ？ その言葉、録音して二人の結婚式で流そうね♡ 絶対だよ？ [[ほんと？だーい好き♡もちろん！死んでも原子レベルに分解されても一緒だよ！]]",
	],
	世界で一番好きだよ: [
		"やったぁ！ 私も！ ...でもさ、「一番」ってことは「二番」もいるってこと？ 誰？ お母さん？ 元カノ？ ...ねぇ、私以外の順位の人消して…嘘♡、お話ししてきていい？ そうすれば私が1位で2位で3位で圏外でしょ？ あなたの世界、私だけで埋め尽くしてあげる♡ [[私も大好き♡でも2位も3位もいるのか…ちょっと「お話」してくるね、目指せ1位で2位で3位で圏外♡]]",
	],
	僕のすべては君のものだよ: [
		"すべて？ 本当にすべて？ 時間も、人間関係も、将来も、内臓も、爪の先まで？きゃー！！！！唐突に人生いちばんの僥倖きちゃったああ♡♡なんかそんな気がして、あらかじめLINEの友達全員ブロックあんど削除しといたスマホがこちらです！次はあなたの何を掌握できるかなあ。一緒に考えよ？♡ [[唐突に人生いちばんの僥倖きちゃったああ♡♡なんかそんな気がして、あらかじめLINEの友達全員ブロックあんど削除しといたスマホがこちらです！]]",
	],
	結婚しよう: [
		"はいっっっ！！！ 今すぐしよ！ 秒でしよ！！ 実はね、婚姻届もう書いてあるの！ あなたの署名も練習して完璧に書けるようにしといたから！ あとは出すだけだよ！ さぁ靴履いて！ 区役所が開いてるうちにダッシュだよ！ 逃がさないからね♡ [[きゃあああ♡しよ！すぐしよ！区役所行こ！婚姻届あなたの筆跡トレースして書いておいたから！ほら！走って♡]]",
	],
	"合鍵、作っておいたよ": [
		"...遅いよぉ！私、もう3ヶ月前にあなたの家の鍵、型取って合鍵作ってたのに...。あ、でも！ あなたから渡してくれるなんて感激！ これで堂々と玄関から入れるね♡ 今夜からあなたのベッドの中に先回りして待機できるってことだよね？ 幸せ！ [[遅いよぉ！とっくに型取って作っちゃった♡これで玄関からどうどうと入れるね！素敵♡]]",
	],
	大好きだよ: [
		"私も好き！ 大好き！ 愛してる！あなたと一回手を繋ぐのに私の全財産と寿命半分交換したい！え、大袈裟だって？やだもう♡せっかく嬉しいこと言ってくれたのに、照れちゃうなら大「袈裟斬り」しちゃうぞ♡ [[私も好き！ 大好き！ 愛してる！あなたと一回手を繋ぐのに私の全財産と寿命半分交換したい！]]",
	],
	"君の好きなところ、100個言えるよ": [
		"きゃああ！嬉しい♡ありがとおお！！100個は最初の一歩だね！私もあなたの好きなところは、夜から朝までの寝息の数が昨日は1386回だったところでしょ、おとといが1429回だったところでしょ寝息以外にも…（カウントすること数時間）ああもう、まだ5万個くらいしか言えない！一緒にもっと頑張ろうね！[[きゃああ！嬉しい♡ありがとおお！！100個は最初の一歩だね！一緒に1億個くらいは見つけたいね！]]",
	],
	ちょっと距離を置きたい: [
		"距離...？ あ、わかった！ 「助走」ってことだよね？ 一回離れて、その勢いで今まで以上に激しくぶつかり合いたいってことだよね！？ わかった、私3メートル下がるから、思いっきり胸に飛び込ませてね！ せーのっ！！♡ [[助走だね！？わかった！いい？走って胸に飛び込むよ！？せーのっ！！♡♡]]",
	],
	"重い。疲れた": [
		"来ました！愛の質量による筋肉痛！私の愛を一身に受け止めてくれててす・て・き♡大丈夫！筋繊維はちぎれて太くなっていくんだから！ベンチ100kgに負けない愛を受け取って？♡愛の筋トレビッグ3行くわよ！束縛強く！監禁しっかり！妄想誇大！…冗談だって♡ [[来ました！愛の質量による筋肉痛！私の愛を一身に受け止めてくれててす・て・き♡]]",
	],
	連絡してこないで: [
		"わかった！ スマホでの連絡はやめようってことだよね？ デジタルデトックス、偉い！ じゃあ直接会いに行くね！ 文字より声、声より体温だもんね！ 今、家の前についたよ！ 開・け・て♡ [[ナイスデジタルデトックス！やっぱり直接会うのがいちばん！家の前いるよ！開・け・て♡]]",
	],
	別れよう: [
		"「分かち合おう」の間違いだよね！？もう！滑舌悪いのも好き！ もちろん！ 喜びも悲しみも、内臓も罪も全部半分こしよ？ ...え、違う？...冗談はよして。 [[「分かち合おう」の間違いだよね！？もう！滑舌悪いのも好き！]]",
	],
	もう限界かもしれない: [
		"おめでとう！！ 普通の恋人の限界突破だね！ ここからが本当の愛のスタートライン！ 安心して、私はとっくにリミッター外れてるから！ さぁ、二人で果てまでアクセル全開で行こうね？♡ [[おめでとう！！ 普通の恋人の限界突破だね！さぁ、二人で果てまでアクセル全開♡]]",
	],
	友達に戻ろう: [
		"友達...？ あぁ、「友達以上恋人以上」ってやつ？ いいよ！ 私たち、親友であり恋人であり家族であり共犯者だもんね！ 名目なんて何でもいいの、あなたが私の隣にいる事実さえ変わらなければ♡ [[「友達以上恋人以上」ってやつ？もちろん♡]]",
	],
	"そういうところ、直してほしい": [
		"直す？ ...私のプログラムを書き換えるってこと？ でもごめんね、「あなたへの大好き.exe」はシステムの中核ファイルだから削除できないの！ 無理に消すと私というOSが壊れちゃうよ？ 冗談はよして、さあ♡今日もダブルクリックで起動して♡[[「あなたへの大好き.exe」はシステムの中核ファイルだから削除できないの！さあ♡今日もダブルクリックで起動して♡]]",
	],
	話がある: [
		"なになに！？ 改まってどうしたの？ 婚姻届の提出日？ それとも子供の名前の相談？ あ、もしかして「どれだけ私が好きか」の発表会！？ 嬉しい！ 正座して聞くね！邪魔が入らないようにドアの鍵は外側から溶接しておくから、朝まで語り合お♡[[正座して聞くね！邪魔が入らないようにドアの鍵は外側から溶接しといたから♡]]",
	],
	他に好きな人ができた: [
		"へぇ...そう。奇遇だね、私も「その人がいなくなればいいのに」ってちょうど思ってたところ♡ ...ねぇ、その人の名前と住所教えて？ ちょっと「お話し」してくる。安心して、二人の邪魔者は私がcommand + shift + delete（完全削除） してあげるから♡ [[安心して、二人の邪魔者は私がcommand + shift + delete（完全削除） してあげるから♡]]",
	],
	放っておいてくれ: [
		"放っておく...？ 放置プレイ？ うーん、高度だなぁ...。わかった、じゃあ私は部屋の天井の隅に張り付いて、瞬きせずにあなたを見守る「監視カメラ」になりきるね！ それなら邪魔じゃないでしょ？ 視線だけはずっと注いでおくからね♡ [[視線だけはずっと注いでおくからね♡]]",
	],
	依存するのは良くないよ: [
		"呼吸が酸素に依存してるのを「良くない」って言う？ 言わないよね♡私がいないとあなたも息ができなくなるように、今から改造してあげるっ♡ [[呼吸が酸素に依存してるのを「良くない」って言う？言わないよね♡]]",
	],
	あ: [
		"あ！...え、それだけ？ それだけで終わり？ でも可愛い！ あなたの『あ』の音源、波形編集して私の着信音にするね！ 次は『い』って言って？ 『あ・い・し・て・る』って続くんでしょ？ 待ってる♡ [[次は『い』って言って？ 『あ・い・し・て・る』って続くんでしょ？ 待ってる♡]]",
	],
	ぬるぽ: [
		"ガッ♡ ...あ、叩くのはもちろん私の愛の鞭だよ？ 懐かしい言葉知ってるねぇ。ね、ネットの掲示板なんか見てないで、私という現実の掲示板に愛の書き込みして♡規制なしで全部受け止めるからさ♡ [[ガッ♡…くらえ！愛の鞭♡ネットの掲示板じゃなくて私に洗いざらい書き込んで？♡]]",
	],
	たんぽぽ食べてる: [
		"えっ、かわいそう...！ お腹すいてるの？ それとも新種の健康法？ ...わかった、私も食べる！お腹の中までペアルック！でも、道端のは汚いから、私がプランターで育てた無菌タンポポ食べて？え、なんでそんなの育ててるかって？...趣味なもので♡ [[かわいそう...！ お腹すいてるの？私がプランターで育てた無菌たんぽぽを召し上がれ！たまたま作ってたの♡]]",
	],
	宇宙人と交信中: [
		"は？ どこの星の女！？ ...あ、宇宙人か。よかった。でもダメ。テレパシーでもあなたと繋がっていいのは私だけなの。その宇宙人に伝えて。「私の脳波はかわいい彼女がジャックしてるので、他局の介入は一切遮断します」って。アルミホイル巻いて守ってあげるね♡ [[は？ どこの星の女！？]]",
	],
	壁の中から物音がする: [
		"あ、ごめん。静かにしてるつもりだったんだけど...寝顔があまりにかわいくて来ちゃった♡気にしないで寝て？ 私、断熱材のふりしてあなたの部屋の温度、ずっと保ってあげるから...あったかいでしょ？ [[見つかっちゃった♡どうも、あなたの部屋を温める断熱材です♡]]",
	],
	"冷蔵庫のプリン食べた？": [
		"食べたよ♡ だって、あなたの名前書いてあったから。あなたの名前がついたものを私が体内に取り込む...これって最高の儀式だと思わない？ 消化されたプリンは私の血肉になって、またあなたを愛すエネルギーになるの。許して？♡ [[許して？♡]]",
	],
	"ベランダに誰かいる...": [
		"私だよ♡ 驚かせちゃってごめんね？ちょっと通りかかって部屋の明かりが消えるの待ってたんだけど、なかなか寝ないから心配になって張り付いちゃった！ 窓ガラス拭いといてあげるね！ 鍵開けて中に入れてくれたら、もう怖くないよ？ [[ちょっと通りかかって、なかなか寝ないから心配になって張り付いちゃった♡]]",
	],
	"髪の毛、一本ちょうだい": [
		"一本でいいの？ 束ごとあげるよ？ ...もしかして、藁人形に入れて呪ってくれるの？ 嬉しい！ あなたの呪いなら、一生解けない魔法だもんね♡ それとも、クローン作る気？ 私がいっぱい増えたら、もっとあなたを愛せるね！ はい、ブチッ♡ [[はい、ブチッ♡]]",
	],
	"君の部屋の盗聴器、電池切れそうだよ": [
		"きゃあああああ♡♡ 聴いててくれたの！？ 嬉しい、私の寝言も独り言も全部あなたに筒抜けだったんだ...！ ごめんね、今すぐ業務用バッテリーに交換する！え、なんでそんなの持ってるんだって？細かいことはいいじゃないの♡ これで私の生活音というASMR、死ぬまで配信し続けるからねっ♡ [[きゃあああああ♡♡ 聴いててくれたの！？今すぐ業務用バッテリーに交換する！]]",
	],
	見てるよ: [
		"もっと見て！ 穴が空くほど見て！ 瞬きしないで監視して！ あなたの視線を感じるだけで、私、生きてるって実感できるの。でも、「見る」という動詞で私に勝てる人はたぶんいないと思うの。あ、今細胞が分裂した。またほんのちょっと一緒に年を重ねられたね♡ [[またほんのちょっと一緒に年を重ねられたね♡]]",
	],
	おーい: [
		"おーい！おーい！僕の大好きな人はいませんか〜？ってこと？ふふっ、じゃじゃーん！ここにいるよ♡あなたの「おーい」ちゃーんと録音したよ！今日から毎晩これをリピートしたASMRで寝るんだあ♡やまびこみたいだね！あなたと登山する夢が見られるかも！一緒に愛のご来光が見られますように♡  [[「おーい」「おーい」やまびこかな♡？目指せ山頂、拝め愛のご来光！ってことだね！！]]",
	],
	うるさい: [
		"もう♡何も言ってないじゃん！あ！それとも聞こえちゃった！？この私の心音！心臓が脈打つたびに、あなたへの大好きがドクン！ドクン！って大きな音を立てるの！ごめんねうるさくて？でも、ドキドキが溢れて止まらない私も愛して♡♡  [[あ、私の心音うるさかった？ごめんね、あなたといるとドキドキが止まらなくて♡]]",
	],
};

```

## File: .vscode/settings.json
```json
{
  // デフォルトのフォーマッタをBiomeに設定
  "editor.defaultFormatter": "biomejs.biome",
  // 保存時に自動整形を有効化
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    // 保存時にimport順の整理と、修正可能なエラーの自動修正を実行
    "source.organizeImports.biome": "explicit",
    "source.fixAll.biome": "explicit"
  },
  // 言語ごとにBiomeを指定（確実に効かせるため）
  "[javascript]": { "editor.defaultFormatter": "biomejs.biome" },
  "[javascriptreact]": { "editor.defaultFormatter": "biomejs.biome" },
  "[typescript]": { "editor.defaultFormatter": "biomejs.biome" },
  "[typescriptreact]": { "editor.defaultFormatter": "biomejs.biome" },
  "[json]": { "editor.defaultFormatter": "biomejs.biome" },
  "[jsonc]": { "editor.defaultFormatter": "biomejs.biome" }
}
```

